(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"SEU/":function(t,e,n){"use strict";n.r(e),n.d(e,"ListGuaranteeModule",(function(){return q}));var i=n("ofXK"),o=n("tyNb"),c=n("oOQV"),a=n("BKom"),s=n("LRne"),l=n("Cfvw"),r=n("3N8a");const b=new(n("IjjT").a)(r.a);var d=n("7o/Q"),h=n("EY2u"),u=n("HDdC");let p=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new u.a(e=>e.error(t));case"C":return Object(h.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class g{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new f(t,this.delay,this.scheduler))}}class f extends d.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,o=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(o);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(f.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new v(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(p.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(p.createComplete()),this.unsubscribe()}}class v{constructor(t,e){this.time=t,this.notification=e}}var P=n("zP0r"),m=n("IzEk"),Q=n("IAdc"),w=n("AytR"),S=n("fXoL"),k=n("tk/3");let _=(()=>{class t{constructor(t){this.http=t}findAll(){return this.http.get("https://content-sheets.googleapis.com/v4/spreadsheets/1A8_oc6LId0_tQSy7VbcmGTJdRFjgYcsFQoJfJWKw_kM/values/A2%3AF10000?key=AIzaSyD0y7qJ_zFRKlAb6Fmu2sYbowlhAOOtpy4&prettyPrint=false")}update(t,e){const n={authorization:e},i=new E;return i.values.push(t.values),this.http.put("https://content-sheets.googleapis.com/v4/spreadsheets/1A8_oc6LId0_tQSy7VbcmGTJdRFjgYcsFQoJfJWKw_kM/values/A"+t.id+"?valueInputOption=RAW&alt=json",i,{headers:n})}}return t.\u0275fac=function(e){return new(e||t)(S.Ub(k.a))},t.\u0275prov=S.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class E{constructor(){this.values=[]}}var O=n("K3ix"),y=n("a0fC"),C=n("TEn/"),N=n("3Pt+"),M=n("Lm2G");const z=["template_get_token"];function I(t,e){1&t&&(S.Qb(0,"div",18),S.pc(1,"B\u1ecb m\u1ea5t m\u1ea1ng ho\u1eb7c l\u1ea5y d\u1eef li\u1ec7u m\u1edbi nh\u1ea5t th\u1ea5t b\u1ea1i. "),S.Lb(2,"br"),S.pc(3," S\u1ebd s\u1eed d\u1ee5ng d\u1eef li\u1ec7u l\u1ea7n cu\u1ed1i l\u1ea5y \u0111\u01b0\u1ee3c \u0111\u1ec3 hi\u1ec3n th\u1ecb "),S.Pb())}function D(t,e){1&t&&(S.Qb(0,"div",18),S.pc(1,"\u0110ang l\u1ea5y d\u1eef li\u1ec7u m\u1edbi, vui l\xf2ng ch\u1edd."),S.Pb())}const T=function(t){return{borderPhanLine:t}};function x(t,e){if(1&t){const t=S.Rb();S.Ob(0),S.Qb(1,"label",19),S.Yb("click",(function(){S.kc(t);const n=e.$implicit,i=S.ac(),o=S.ic(38);return i.edit(n,o)})),S.pc(2),S.Pb(),S.Qb(3,"label",20),S.Yb("click",(function(){S.kc(t);const n=e.$implicit,i=S.ac(),o=S.ic(38);return i.edit(n,o)})),S.pc(4),S.Pb(),S.Qb(5,"label",20),S.Yb("click",(function(){S.kc(t);const n=e.$implicit,i=S.ac(),o=S.ic(38);return i.edit(n,o)})),S.pc(6),S.Pb(),S.Qb(7,"label",20),S.Yb("click",(function(){S.kc(t);const n=e.$implicit,i=S.ac(),o=S.ic(38);return i.edit(n,o)})),S.pc(8),S.Pb(),S.Qb(9,"label",21),S.pc(10),S.Pb(),S.Nb()}if(2&t){const t=e.$implicit,n=e.index;S.zb(1),S.dc("ngClass",S.ec(10,T,n%2==0)),S.zb(1),S.qc(t.values[0]),S.zb(1),S.dc("ngClass",S.ec(12,T,n%2==0)),S.zb(1),S.qc(t.values[1]),S.zb(1),S.dc("ngClass",S.ec(14,T,n%2==0)),S.zb(1),S.qc(t.values[2]),S.zb(1),S.dc("ngClass",S.ec(16,T,n%2==0)),S.zb(1),S.qc(t.values[3]),S.zb(1),S.dc("ngClass",S.ec(18,T,n%2==0)),S.zb(1),S.qc(t.values[5].replace("\u0111",""))}}function Y(t,e){if(1&t){const t=S.Rb();S.Ob(0),S.Qb(1,"pagination",22),S.Yb("ngModelChange",(function(e){return S.kc(t),S.ac().page=e}))("pageChanged",(function(e){return S.kc(t),S.ac().changePagination(e.page)})),S.Pb(),S.Nb()}if(2&t){const t=S.ac();S.zb(1),S.dc("maxSize",5)("ngModel",t.page)("itemsPerPage",t.sizeShowPagination)("totalItems",null==t.valuesShow?null:t.valuesShow.length)}}function A(t,e){if(1&t){const t=S.Rb();S.Qb(0,"table",31),S.Qb(1,"tbody"),S.Qb(2,"tr",32),S.Qb(3,"td",33),S.Qb(4,"code"),S.pc(5,"ID index"),S.Pb(),S.Pb(),S.Qb(6,"td",34),S.Qb(7,"div"),S.Qb(8,"p"),S.pc(9),S.Pb(),S.Pb(),S.Pb(),S.Pb(),S.Qb(10,"tr",32),S.Qb(11,"td",33),S.Qb(12,"code"),S.pc(13,"Ng\xe0y mua"),S.Pb(),S.Pb(),S.Qb(14,"td",34),S.Qb(15,"div"),S.Qb(16,"p"),S.pc(17),S.Pb(),S.Pb(),S.Pb(),S.Pb(),S.Qb(18,"tr",32),S.Qb(19,"td",33),S.Qb(20,"code"),S.pc(21,"T\xean kh\xe1ch"),S.Pb(),S.Pb(),S.Qb(22,"td",34),S.Qb(23,"div"),S.Qb(24,"input",35),S.Yb("ngModelChange",(function(e){S.kc(t);const n=S.ac(2);return(null==n.DataSheetsEdit?null:n.DataSheetsEdit.values)[1]=e})),S.Pb(),S.Pb(),S.Pb(),S.Pb(),S.Qb(25,"tr",32),S.Qb(26,"td",33),S.Qb(27,"code"),S.pc(28,"M\xe1y"),S.Pb(),S.Pb(),S.Qb(29,"td",34),S.Qb(30,"div"),S.Qb(31,"input",35),S.Yb("ngModelChange",(function(e){S.kc(t);const n=S.ac(2);return(null==n.DataSheetsEdit?null:n.DataSheetsEdit.values)[2]=e})),S.Pb(),S.Pb(),S.Pb(),S.Pb(),S.Qb(32,"tr",32),S.Qb(33,"td",33),S.Qb(34,"code"),S.pc(35,"Imei"),S.Pb(),S.Pb(),S.Qb(36,"td",34),S.Qb(37,"div"),S.Qb(38,"input",35),S.Yb("ngModelChange",(function(e){S.kc(t);const n=S.ac(2);return(null==n.DataSheetsEdit?null:n.DataSheetsEdit.values)[3]=e})),S.Pb(),S.Pb(),S.Pb(),S.Pb(),S.Qb(39,"tr",32),S.Qb(40,"td",33),S.Qb(41,"code"),S.pc(42,"Gi\xe1"),S.Pb(),S.Pb(),S.Qb(43,"td",34),S.Qb(44,"div"),S.Qb(45,"input",35),S.Yb("ngModelChange",(function(e){S.kc(t);const n=S.ac(2);return(null==n.DataSheetsEdit?null:n.DataSheetsEdit.values)[5]=e})),S.Pb(),S.Pb(),S.Pb(),S.Pb(),S.Pb(),S.Pb()}if(2&t){const t=S.ac(2);S.zb(9),S.qc(t.DataSheetsEdit.id),S.zb(8),S.qc(null==t.DataSheetsEdit?null:t.DataSheetsEdit.values[0]),S.zb(7),S.dc("ngModel",null==t.DataSheetsEdit?null:t.DataSheetsEdit.values[1]),S.zb(7),S.dc("ngModel",null==t.DataSheetsEdit?null:t.DataSheetsEdit.values[2]),S.zb(7),S.dc("ngModel",null==t.DataSheetsEdit?null:t.DataSheetsEdit.values[3]),S.zb(7),S.dc("ngModel",null==t.DataSheetsEdit?null:t.DataSheetsEdit.values[5])}}function j(t,e){if(1&t){const t=S.Rb();S.Qb(0,"div",23),S.Qb(1,"h4",24),S.pc(2,"C\u1eadp nh\u1eadt l\u1ea1i th\xf4ng tin"),S.Pb(),S.Qb(3,"button",25),S.Yb("click",(function(){S.kc(t);const e=S.ac();return null==e.modalRefEdit?null:e.modalRefEdit.hide()})),S.Qb(4,"span",26),S.pc(5,"\xd7"),S.Pb(),S.Pb(),S.Pb(),S.Qb(6,"div",27),S.Qb(7,"div",28),S.nc(8,A,46,6,"table",29),S.Pb(),S.Pb(),S.Qb(9,"div",30),S.Qb(10,"ion-button",10),S.Yb("click",(function(){S.kc(t);const e=S.ac();return e.update(e.DataSheetsEdit)})),S.pc(11," C\u1eadp nh\u1eadt "),S.Pb(),S.Pb()}if(2&t){const t=S.ac();S.zb(8),S.dc("ngIf",t.DataSheetsEdit.values.length>0)}}function K(t,e){if(1&t){const t=S.Rb();S.Qb(0,"div",23),S.Qb(1,"h4",24),S.pc(2,"C\u1ea7n \u0111\u0103ng nh\u1eadp \u0111\u1ec3 ch\u1ec9nh s\u1eeda "),S.Pb(),S.Qb(3,"button",25),S.Yb("click",(function(){S.kc(t);const e=S.ac();return null==e.modalref_template_get_token?null:e.modalref_template_get_token.hide()})),S.Qb(4,"span",26),S.pc(5,"\xd7"),S.Pb(),S.Pb(),S.Pb(),S.Qb(6,"div",27),S.Qb(7,"div",28),S.pc(8,"\nHi\u1ec7n t\u1ea1i ch\u01b0a \u0111\u0103ng nh\u1eadp, c\u1ea7n \u0111\u0103ng nh\u1eadp v\u1edbi t\xe0i kho\u1ea3n google T\xedn D\u0169ng \u0111\u1ec3 \u0111\u1ec3 ch\u1ec9nh s\u1eeda "),S.Pb(),S.Pb(),S.Qb(9,"div",30),S.Qb(10,"ion-button",36),S.Yb("click",(function(){return S.kc(t),S.ac().btnLogin()})),S.pc(11," \u0110\u0103ng nh\u1eadp "),S.Pb(),S.Qb(12,"ion-button",37),S.Yb("click",(function(){S.kc(t);const e=S.ac();return null==e.modalref_template_get_token?null:e.modalref_template_get_token.hide()})),S.pc(13," Ch\u1ec9 xem, kh\xf4ng ch\u1ec9nh s\u1eeda "),S.Pb(),S.Pb()}}const L=[{path:"",component:(()=>{class t{constructor(t,e,n){this.googleSheetsService=t,this.modalService=e,this.utilsService=n,this.dataSheetses=[],this.valuesShow=[],this.valuesShowDataHtml=[],this.search={imei:""},this.isOffNetWOrk=!1,this.load=!1,this.page=0,this.sizeShowPagination=15,this.findNew()}ngOnInit(){Object(s.a)(1e4).pipe(function(t,e=b){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new g(i,e))}(500)).subscribe(t=>{this.utilsService.isNotTimeoutKey(c.a.TOKEN_exp,24e5,!0)||(this.modalref_template_get_token=this.modalService.show(this.TEMPLATE_GET_TOKEN)),this.utilsService.localStorageGetByName(c.a.TOKEN)||(this.modalref_template_get_token=this.modalService.show(this.TEMPLATE_GET_TOKEN))})}resetSearch(){this.search={imei:""}}findByImei(t){this.valuesShow=this.dataSheetses.filter(e=>!(!e.values||!e.values[3])&&e.values[3].indexOf(t)>=0),this.changePagination(1)}findNew(){this.isOffNetWOrk=!1,this.load=!0,this.googleSheetsService.findAll().subscribe(t=>{this.load=!1;let e=2;t.values.forEach(t=>{const n=new a.a;n.id=e++,n.values=t,this.dataSheetses.push(n)}),this.valuesShow=this.dataSheetses.reverse(),localStorage.setItem(c.a.LIST_GUARANTEE,JSON.stringify(this.dataSheetses)),this.changePagination(1)},t=>{console.log("Local"),this.dataSheetses=JSON.parse(localStorage.getItem(c.a.LIST_GUARANTEE)),this.valuesShow=this.dataSheetses.reverse(),this.isOffNetWOrk=!0,this.load=!1,this.changePagination(1)},()=>{this.load=!1}),this.resetSearch()}edit(t,e){this.utilsService.localStorageGetByName(c.a.TOKEN)&&(this.DataSheetsEdit=this.cloneObj(t),this.modalRefEdit=this.modalService.show(e))}cloneObj(t){return JSON.parse(JSON.stringify(t))}changePagination(t){this.page=t,Object(l.a)(this.valuesShow).pipe(Object(P.a)(this.sizeShowPagination*(this.page-1)),Object(m.a)(this.sizeShowPagination),Object(Q.a)()).subscribe(t=>{this.valuesShowDataHtml=t},t=>{console.log(t)})}update(t){this.googleSheetsService.update(t,"Bearer "+this.utilsService.localStorageGetByName(c.a.TOKEN)).subscribe(t=>{window.location.reload()})}btnLogin(){window.location.href=`https://accounts.google.com/o/oauth2/v2/auth?client_id=601662646531-c14p4khfpetj9j4nmm9isuqauo8o514f.apps.googleusercontent.com&scope=https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/spreadsheets&redirect_uri=${w.a.getTokenCallBack}&response_type=token&prompt=consent`}}return t.\u0275fac=function(e){return new(e||t)(S.Kb(_),S.Kb(O.a),S.Kb(y.a))},t.\u0275cmp=S.Eb({type:t,selectors:[["app-list-guarantee"]],viewQuery:function(t,e){var n;1&t&&S.sc(z,!0),2&t&&S.hc(n=S.Zb())&&(e.TEMPLATE_GET_TOKEN=n.first)},decls:41,vars:8,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],[1,"pl-3","pr-3","app-margin-bottom","pt-5"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],[1,"row","pt-4"],[1,"col-2","pt-2"],[1,"col-4"],["type","txt","placeholder","Imei","name","Imei",1,"form-control",3,"ngModel","ngModelChange"],[1,"p-0","m-0",3,"click"],[3,"click"],[1,"form-group","row"],[1,"col-3","pt-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],["template_edit",""],["template_get_token",""],[1,"alert","alert-danger"],[1,"col-3","pt-2",3,"ngClass","click"],[1,"col-2","pt-2",3,"ngClass","click"],[1,"col-3","pt-2",3,"ngClass"],[3,"maxSize","ngModel","itemsPerPage","totalItems","ngModelChange","pageChanged"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"table-responsive"],["class","table table-bordered",4,"ngIf"],[1,"modal-footer"],[1,"table","table-bordered"],[1,"ng-star-inserted"],[1,"col-xs-3"],[1,"col-xs-9"],["placeholder","tenKhach",1,"form-control",3,"ngModel","ngModelChange"],[1,"pr-5",3,"click"],["color","danger",1,"p-0","m-0",3,"click"]],template:function(t,e){1&t&&(S.Qb(0,"ion-header",0),S.Qb(1,"ion-toolbar"),S.Qb(2,"ion-buttons",1),S.Lb(3,"ion-menu-button"),S.Pb(),S.Qb(4,"ion-title"),S.pc(5,"Danh s\xe1ch b\u1ea3o h\xe0nh"),S.Pb(),S.Pb(),S.Pb(),S.Qb(6,"ion-content",2),S.Qb(7,"div",3),S.nc(8,I,4,0,"div",4),S.nc(9,D,2,0,"div",4),S.Qb(10,"div",5),S.Qb(11,"div",6),S.Qb(12,"label",7),S.pc(13),S.Pb(),S.Pb(),S.Pb(),S.Qb(14,"div",5),S.Qb(15,"div",6),S.Qb(16,"label",7),S.pc(17,"Imei"),S.Pb(),S.Qb(18,"div",8),S.Qb(19,"input",9),S.Yb("ngModelChange",(function(t){return e.search.imei=t})),S.Pb(),S.Pb(),S.Qb(20,"ion-button",10),S.Yb("click",(function(){return e.findByImei(e.search.imei)})),S.pc(21,"T\xecm b\u1edfi imei"),S.Pb(),S.Pb(),S.Pb(),S.Qb(22,"ion-button",11),S.Yb("click",(function(){return e.findNew()})),S.pc(23,"L\u1ea5y t\u1ea5t c\u1ea3 d\u1eef li\u1ec7u m\u1edbi"),S.Pb(),S.Qb(24,"div",12),S.Qb(25,"label",13),S.pc(26,"Ng\xe0y mua"),S.Pb(),S.Qb(27,"label",7),S.pc(28,"T\xean kh\xe1ch"),S.Pb(),S.Qb(29,"label",7),S.pc(30,"M\xe1y"),S.Pb(),S.Qb(31,"label",7),S.pc(32,"Imei"),S.Pb(),S.Qb(33,"label",13),S.pc(34,"Gi\xe1"),S.Pb(),S.nc(35,x,11,20,"ng-container",14),S.Pb(),S.nc(36,Y,2,4,"ng-container",15),S.Pb(),S.Pb(),S.nc(37,j,12,1,"ng-template",null,16,S.oc),S.nc(39,K,14,0,"ng-template",null,17,S.oc)),2&t&&(S.dc("translucent",!0),S.zb(6),S.dc("fullscreen",!0),S.zb(2),S.dc("ngIf",e.isOffNetWOrk),S.zb(1),S.dc("ngIf",e.load),S.zb(4),S.rc(" T\u1ed5ng: ",e.valuesShow.length," "),S.zb(6),S.dc("ngModel",e.search.imei),S.zb(16),S.dc("ngForOf",e.valuesShowDataHtml),S.zb(1),S.dc("ngIf",e.valuesShow.length>0))},directives:[C.e,C.r,C.c,C.l,C.q,C.d,i.j,N.a,N.e,N.f,C.b,i.i,i.h,M.a],styles:[".dropbtn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:16px;font-size:16px;border:none;cursor:pointer}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f9f9f9;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%]{background-color:#3e8e41}.phanCach[_ngcontent-%COMP%]{background:#e0dbdb}"]}),t})()}];let R=(()=>{class t{}return t.\u0275mod=S.Ib({type:t}),t.\u0275inj=S.Hb({factory:function(e){return new(e||t)},imports:[[o.i.forChild(L)],o.i]}),t})();var G=n("44PX");let q=(()=>{class t{}return t.\u0275mod=S.Ib({type:t}),t.\u0275inj=S.Hb({factory:function(e){return new(e||t)},imports:[[i.b,C.s,N.b,G.a,M.b.forRoot(),O.b.forRoot(),R]]}),t})()}}]);